dnl

AC_REVISION($Revision$)
AC_INIT(Makefile.am)

GLOBUS_INIT


AM_PROG_LIBTOOL

dnl config header goes here

dnl Initialize the automake rules the last argument
AM_INIT_AUTOMAKE($GPT_NAME, $GPT_VERSION)

AM_CONFIG_HEADER(config.h)

AC_CHECK_HEADERS(netinet/tcp.h)
AC_CHECK_HEADERS(sys/select.h)
AC_CHECK_HEADERS(string.h)
AC_CHECK_HEADERS(dce/cma_ux.h)

dnl GPT_SET_LIBS("-lglobus_common_$GLOBUS_FLAVOR_NAME -lglobus_gss_assist_$GLOBUS_FLAVOR_NAME -lglobus_gssapi_gsi_$GLOBUS_FLAVOR_NAME -lglobus_ssl_utils_$GLOBUS_FLAVOR_NAME -lssl_$GLOBUS_FLAVOR_NAME -lcrypto_$GLOBUS_FLAVOR_NAME")

AC_OUTPUT(
	Makefile
	pkgdata/Makefile
	pkgdata/pkg_data_src.gpt
	library/Makefile
	tests/Makefile
	,
	$GLOBUS_LOCATION/sbin/gpt_generate_bin_pkg_data \
	--flavor=$GLOBUS_FLAVOR_NAME "./pkgdata/pkg_data_src.gpt"
	,
	GLOBUS_FLAVOR_NAME=$GLOBUS_FLAVOR_NAME

)

