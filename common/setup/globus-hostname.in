#! @SH@
 
# This is a simple shell script that acts like 
# the hostname command.  But is returns the FQN
# in all cases.

PROGRAM_NAME=`@ECHO@ $0 | @SED@ -e 's|.*/||g'`
PROGRAM_VERSION=`@ECHO@ '$Revision$' | @CUT@ -d' ' -f2`


# Configure directory locations
prefix=@prefix@
deploy_prefix=@deploy_prefix@    # This line is overwritten during deployment
deployed='FALSE'                 # This line is overwritten during deployment
  


if [ "X${deployed}" = "XFALSE" ] ; then
   # User level code
   exec_prefix=@exec_prefix@
   sbindir=@sbindir@
   bindir=@bindir@
   libdir=@libdir@
   libexecdir=@libexecdir@
   datadir=@datadir@
   sysconfdir=@sysconfdir@
   localstatedir=@localstatedir@
   tmpdir=@tmpdir@
else
   # Globus System code
   exec_prefix="${deploy_prefix}"
   sbindir=${deploy_prefix}/sbin
   bindir=${deploy_prefix}/bin
   libexecdir=${deploy_prefix}/libexec
   datadir=${deploy_prefix}/share
   sysconfdir=${deploy_prefix}/etc
   localstatedir=${deploy_prefix}/var
   tmpdir=${deploy_prefix}/tmp
fi


LOCALDOMAIN=@LOCALDOMAIN@
 
if [ -x ${libexecdir}/globus-libc-hostname ]; then
    GLOBUS_HOSTNAME="`${libexecdir}/globus-libc-hostname`"
else
    FULLNAME=`@SYS_HOSTNAME@`
    BASENAME=`@SYS_HOSTNAME@ | @CUT@ -d. -f1`
 
    if [ $FULLNAME = $BASENAME ] ; then
    # Its not fully qualified
        GLOBUS_HOSTNAME="$BASENAME.${LOCALDOMAIN}"
    else
        GLOBUS_HOSTNAME="$FULLNAME"
   fi
fi

echo $GLOBUS_HOSTNAME
export GLOBUS_HOSTNAME