#! @SH@

# Inserted by configure.
@globus_script_initializer@
 
# This is a simple shell script that acts like 
# the hostname command.  But is returns the FQN
# in all cases.

PROGRAM_NAME=`@ECHO@ $0 | @SED@ -e 's|.*/||g'`
PROGRAM_VERSION=`@ECHO@ '$Revision$' | @CUT@ -d' ' -f2`

LOCALDOMAIN=@LOCALDOMAIN@
 
if [ -x ${libexecdir}/globus-libc-hostname ]; then
    FULLNAME="`${libexecdir}/globus-libc-hostname`"
    # make sure command ran successfully
    if [ ! $? = 0 ]
    then
       FULLNAME=`@SYS_HOSTNAME@`
    fi
else
    FULLNAME=`@SYS_HOSTNAME@`
fi
    BASENAME=`@SYS_HOSTNAME@ | @CUT@ -d. -f1`
 
if [ "X$FULLNAME" = "X$BASENAME" ] ; then
# Its not fully qualified
    GLOBUS_HOSTNAME="${BASENAME}.${LOCALDOMAIN}"
else
    GLOBUS_HOSTNAME="$FULLNAME"
fi

GLOBUS_HOSTNAME="`@ECHO@ $GLOBUS_HOSTNAME | @TR@ 'A-Z' 'a-z'`"
echo $GLOBUS_HOSTNAME
export GLOBUS_HOSTNAME
